(()=>{var e={};e.id=5544,e.ids=[5544],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},61024:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>i}),s(8101),s(13033),s(70652),s(41888);var t=s(23191),a=s(88716),o=s(37922),n=s.n(o),l=s(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(r,d);let i=["",{children:["dashboard",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8101)),"D:\\Webdesigne\\Work\\bloombax\\app\\dashboard\\profile\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13033)),"D:\\Webdesigne\\Work\\bloombax\\app\\dashboard\\layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,70652)),"D:\\Webdesigne\\Work\\bloombax\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.bind(s,41888)),"D:\\Webdesigne\\Work\\bloombax\\app\\not-found.js"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\Webdesigne\\Work\\bloombax\\app\\dashboard\\profile\\page.jsx"],m="/dashboard/profile/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/profile/page",pathname:"/dashboard/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},92684:(e,r,s)=>{Promise.resolve().then(s.bind(s,7035)),Promise.resolve().then(s.bind(s,37466))},7035:(e,r,s)=>{"use strict";s.d(r,{default:()=>n});var t=s(10326),a=s(27049);s(17577);var o=s(40381);function n(){let{user:e}=(0,a.a)(),r=`https://dfmtrade.com/register?referral_by=${e?.username}`,s=()=>{navigator.clipboard.writeText(r).then(()=>{o.ZP.success("Referral Id copied successfully",{duration:2e3})}).catch(e=>{o.ZP.error("Failed to copy referral ID")})};return t.jsx("div",{className:"w-full my-5 p-3 bg-glass-color glassBlur rounded-2xl flex max-md:flex-col gap-5",children:(0,t.jsxs)("div",{className:" w-full p-5 shadow-shadow-bg rounded-2xl",children:[t.jsx("h2",{className:"text-center text-4xl font-semibold gradient-text2 pb-5",children:"Referral Links"}),t.jsx("div",{className:"flex flex-col gap-2 items-center justify-center",children:(0,t.jsxs)("div",{className:"flex-row-reverse md:flex-row flex gap-3 w-full ",children:[t.jsx("div",{className:"px-3 py-2.5 shadow-shadow-bg flex items-center justify-center rounded-2xl  w-full overflow-hidden cursor-pointer ",onClick:s,children:r}),(0,t.jsxs)("button",{className:"font-medium rounded-2xl px-4 py-2.5 shadow-shadow-bg hover:scale-105 bg-button-color hover:bg-button-hover-color flex gap-1 items-center justify-center ",onClick:s,children:[(0,t.jsxs)("svg",{viewBox:"0 0 512 512",fill:"currentColor",className:"w-7 h-6",children:[t.jsx("path",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:32,d:"M185 128 H407 A57 57 0 0 1 464 185 V407 A57 57 0 0 1 407 464 H185 A57 57 0 0 1 128 407 V185 A57 57 0 0 1 185 128 z"}),t.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:32,d:"M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24"})]}),"Copy"]})]})})]})})}},37466:(e,r,s)=>{"use strict";s.d(r,{default:()=>i});var t=s(10326),a=s(27049),o=s(17577),n=s(40381);function l(){let{user:e}=(0,a.a)(),[r,s]=(0,o.useState)(!1),l=async r=>{r.preventDefault(),s(!0);let t=new FormData(r.target),a=t.get("name"),o=t.get("phone_number");if(!a&&!o){n.ZP.error("No fields have been updated. Please enter new data to update your profile.",{duration:2e3}),s(!1);return}if(a===e.name&&o===e.phone_number){n.ZP.error("No changes detected. Please update your profile information.",{duration:2e3}),s(!1);return}try{let e;let r=await fetch("/api/updateprofile",{method:"POST",body:t});try{e=await r.json()}catch(e){throw Error("Unexpected response format, expected JSON")}r.ok?(n.ZP.success("Profile updated successfully"),window.location.reload()):n.ZP.error(e.error||"Failed to update profile")}catch(e){n.ZP.error("An error occurred. Please try again."),console.error(e)}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:l,className:"flex flex-col items-start",children:[t.jsx("label",{htmlFor:"name",className:"font-medium gradient-text2",children:"Full Name"}),t.jsx("input",{type:"text",id:"name",name:"name",defaultValue:e?.name,className:"mb-5 mt-1 px-3 py-2 bg-transparent outline-none border border-slate-300 rounded-md text-lg w-full"}),t.jsx("label",{htmlFor:"phone_number",className:"font-medium gradient-text2 text-lg",children:"Phone Number"}),t.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",defaultValue:e?.phone_number,className:"mb-5 mt-1 px-3 py-2 bg-transparent outline-none border border-slate-300 rounded-md text-lg w-full"}),t.jsx("button",{type:"submit",disabled:r,className:"bg-gradient-to-r from-cyan-400 to-blue-600 hover:from-pink-500 hover:to-orange-500 text-white py-2 px-4 rounded-md font-medium",children:r?"Updating...":"Update"})]})}function d(){let[e,r]=(0,o.useState)(!1),[s,l]=(0,o.useState)({}),{user:d}=(0,a.a)(),i=e=>{l(r=>({...r,[e]:!r[e]}))},c=async e=>{e.preventDefault(),r(!0);let s=new FormData(e.target),t=s.get("oldPassword"),a=s.get("newPassword"),o=s.get("conPassword"),l=/^(?=.*[a-z])(?=.*[A-Z]).{4,}$/;if(!l.test(a)){n.ZP.error("New password must be at least 4 characters long and contain at least one uppercase letter and one lowercase letter",{duration:2e3}),r(!1);return}if(!l.test(o)){n.ZP.error("Confirm password must be at least 4 characters long and contain at least one uppercase letter and one lowercase letter",{duration:2e3}),r(!1);return}if(a===d.password){n.ZP.error("New password cannot be the same as the current password",{duration:2e3}),r(!1);return}if(a!==o){n.ZP.error("New password and confirm password do not match",{duration:2e3}),r(!1);return}if(t!==d.password){n.ZP.error("Current password is incorrect",{duration:2e3}),r(!1);return}try{let e;let r=await fetch("/api/updatepassword",{method:"POST",body:s});try{e=await r.json()}catch(e){throw Error("Unexpected response format, expected JSON")}r.ok?(n.ZP.success("Password updated successfully"),window.location.reload()):n.ZP.error(e.error||"Failed to update password")}catch(e){n.ZP.error("An error occurred. Please try again."),console.error(e)}finally{r(!1)}};return(0,t.jsxs)("form",{onSubmit:c,className:"flex flex-col items-start",children:[(0,t.jsxs)("div",{className:"relative w-full",children:[t.jsx("label",{htmlFor:"oldPassword",className:"font-medium gradient-text2",children:"Current Password "}),t.jsx("input",{type:s.oldPassword?"text":"password",id:"oldPassword",name:"oldPassword",className:"mb-5 mt-1 px-3 py-2 bg-transparent outline-none border border-slate-300 rounded-md text-lg w-full",required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-10",onClick:()=>i("oldPassword"),children:s.oldPassword?t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825a3.975 3.975 0 01-3.75 0m-1.425-1.2A9.015 9.015 0 012.08 12a9.014 9.014 0 016.62-6.62m1.425-1.2a3.975 3.975 0 013.75 0m1.425 1.2A9.015 9.015 0 0121.92 12a9.014 9.014 0 01-6.62 6.62m-1.425 1.2a3.975 3.975 0 01-3.75 0M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.929 4.929a12 12 0 0114.142 0m0 0a12.046 12.046 0 013.463 7.071 12.046 12.046 0 01-3.463 7.071m-14.142 0a12.046 12.046 0 01-3.463-7.071 12.046 12.046 0 013.463-7.071m3.463 7.071a4.5 4.5 0 019 0 4.5 4.5 0 01-9 0z"})})})]}),(0,t.jsxs)("div",{className:"relative w-full",children:[t.jsx("label",{htmlFor:"newPassword",className:"font-medium gradient-text2",children:"New Password "}),t.jsx("input",{type:s.newPassword?"text":"password",id:"newPassword",name:"newPassword",className:"mb-5 mt-1 px-3 py-2 bg-transparent outline-none border border-slate-300 rounded-md text-lg w-full",required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-10",onClick:()=>i("newPassword"),children:s.newPassword?t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825a3.975 3.975 0 01-3.75 0m-1.425-1.2A9.015 9.015 0 012.08 12a9.014 9.014 0 016.62-6.62m1.425-1.2a3.975 3.975 0 013.75 0m1.425 1.2A9.015 9.015 0 0121.92 12a9.014 9.014 0 01-6.62 6.62m-1.425 1.2a3.975 3.975 0 01-3.75 0M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.929 4.929a12 12 0 0114.142 0m0 0a12.046 12.046 0 013.463 7.071 12.046 12.046 0 01-3.463 7.071m-14.142 0a12.046 12.046 0 01-3.463-7.071 12.046 12.046 0 013.463-7.071m3.463 7.071a4.5 4.5 0 019 0 4.5 4.5 0 01-9 0z"})})})]}),(0,t.jsxs)("div",{className:"relative w-full",children:[t.jsx("label",{htmlFor:"conPassword",className:"font-medium gradient-text2",children:"Confirm Password "}),t.jsx("input",{type:s.conPassword?"text":"password",id:"conPassword",name:"conPassword",className:"mb-5 mt-1 px-3 py-2 bg-transparent outline-none border border-slate-300 rounded-md text-lg w-full",required:!0}),t.jsx("button",{type:"button",className:"absolute right-3 top-10",onClick:()=>i("conPassword"),children:s.conPassword?t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825a3.975 3.975 0 01-3.75 0m-1.425-1.2A9.015 9.015 0 012.08 12a9.014 9.014 0 016.62-6.62m1.425-1.2a3.975 3.975 0 013.75 0m1.425 1.2A9.015 9.015 0 0121.92 12a9.014 9.014 0 01-6.62 6.62m-1.425 1.2a3.975 3.975 0 01-3.75 0M15 12a3 3 0 11-6 0 3 3 0 016 0z"})}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"h-5 w-5 text-gray-500",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.929 4.929a12 12 0 0114.142 0m0 0a12.046 12.046 0 013.463 7.071 12.046 12.046 0 01-3.463 7.071m-14.142 0a12.046 12.046 0 01-3.463-7.071 12.046 12.046 0 013.463-7.071m3.463 7.071a4.5 4.5 0 019 0 4.5 4.5 0 01-9 0z"})})})]}),t.jsx("button",{type:"submit",disabled:e,className:"bg-gradient-to-r from-cyan-400 to-blue-600 hover:from-pink-500 hover:to-orange-500 text-white py-2 px-4 rounded-md font-medium",children:e?"Updating...":"Update"})]})}function i(){let{user:e}=(0,a.a)();return(0,t.jsxs)("div",{className:"bg-glass-color glassBlur my-5 rounded-2xl shadow-shadow-bg",children:[t.jsx("div",{className:'rounded-ss-2xl rounded-se-2xl bg-[url("/profileBg.jpg")] bg-cover bg-center h-80 relative'}),(0,t.jsxs)("div",{className:" mx-3 mt-20 pb-10 ",children:[t.jsx("div",{className:"bg-blue-500 p-3 rounded-ss-2xl rounded-se-2xl",children:t.jsx("p",{className:"text-2xl font-medium",children:"Profile Overview"})}),(0,t.jsxs)("div",{className:"min-h-20 bg-base-glass-color flex items-center max-md:flex-col rounded-es-2xl rounded-ee-2xl",children:[(0,t.jsxs)("div",{className:"md:w-1/2 w-full p-5 md:pb-5 pb-1 ",children:[t.jsx("h3",{className:"font-medium gradient-text2",children:"Username "}),(0,t.jsxs)("p",{className:"text-2xl font-medium mb-2",children:[" ",e?.username||"username"," "]}),t.jsx("h3",{className:"font-medium gradient-text2",children:"Full Name"}),(0,t.jsxs)("p",{className:"text-2xl font-medium mb-2",children:[" ",e?.name||"Name"," "]}),t.jsx("h3",{className:"font-medium gradient-text2",children:"Phone Number"}),t.jsx("p",{className:"text-2xl font-medium mb-2",children:e?.phone_number||"No Number available"})]}),(0,t.jsxs)("div",{className:"md:w-1/2 w-full px-5 md:py-5 py-0",children:[t.jsx("h3",{className:"font-medium gradient-text2",children:"E-mail"}),t.jsx("p",{className:"text-2xl font-medium",children:e?.email||"email address"}),t.jsx("h3",{className:"font-medium gradient-text2",children:"Joining Date"}),t.jsx("p",{className:"text-2xl font-medium",children:e?.created_at?e.created_at.split(" ")[0]:"No date available"}),t.jsx("h3",{className:"font-medium gradient-text2",children:"Referral ID"}),(0,t.jsxs)("p",{className:"text-2xl font-medium mb-2",children:[e?.refered_by||"referral id"," "]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1 max-md:flex-col",children:[(0,t.jsxs)("div",{className:" px-3 pt-5 pb-10 md:w-1/2 w-full ",children:[t.jsx("div",{className:"bg-blue-500 p-3 rounded-ss-2xl rounded-se-2xl ",children:t.jsx("p",{className:"text-2xl font-medium",children:"Update Profile"})}),t.jsx("div",{className:"min-h-20 bg-base-glass-color rounded-es-2xl rounded-ee-2xl",children:t.jsx("div",{className:"w-full p-5",children:t.jsx(l,{})})})]}),(0,t.jsxs)("div",{className:" px-3 pt-5 pb-10 md:w-1/2 w-full ",children:[t.jsx("div",{className:"bg-blue-500 p-3 rounded-ss-2xl rounded-se-2xl ",children:t.jsx("p",{className:"text-2xl font-medium",children:"Update Password"})}),t.jsx("div",{className:"min-h-20 bg-base-glass-color rounded-es-2xl rounded-ee-2xl",children:t.jsx("div",{className:"w-full p-5",children:t.jsx(d,{})})})]})]})]})}},8101:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var t=s(19510),a=s(68570);let o=(0,a.createProxy)(String.raw`D:\Webdesigne\Work\bloombax\components\Profile\Header.jsx`),{__esModule:n,$$typeof:l}=o;o.default;let d=(0,a.createProxy)(String.raw`D:\Webdesigne\Work\bloombax\components\Profile\Header.jsx#default`),i=(0,a.createProxy)(String.raw`D:\Webdesigne\Work\bloombax\components\Profile\Hero.jsx`),{__esModule:c,$$typeof:m}=i;i.default;let u=(0,a.createProxy)(String.raw`D:\Webdesigne\Work\bloombax\components\Profile\Hero.jsx#default`);function x(){return(0,t.jsxs)("div",{children:[t.jsx(u,{}),t.jsx(d,{})]})}s(71159)}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[8948,8605,285,325,1497],()=>s(61024));module.exports=t})();