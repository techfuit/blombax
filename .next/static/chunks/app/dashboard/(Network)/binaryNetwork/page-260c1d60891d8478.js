(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{1742:function(e,t,r){Promise.resolve().then(r.bind(r,3412)),Promise.resolve().then(r.bind(r,7807))},3412:function(e,t,r){"use strict";r.d(t,{default:function(){return i}});var a=r(7437),l=r(6463),o=r(2265);function n(){let e=(0,l.useSearchParams)(),t=(0,l.usePathname)(),{replace:r}=(0,l.useRouter)(),[n,i]=(0,o.useState)("");(0,o.useEffect)(()=>{if(!n.trim()){let a=new URLSearchParams(e);a.delete("query"),r("".concat(t,"?").concat(a.toString()))}},[n,e,t,r]);let s=()=>{let a=new URLSearchParams(e);n.trim()?a.set("query",n):a.delete("query"),r("".concat(t,"?").concat(a.toString()))};return(0,a.jsx)("div",{className:"flex flex-col",children:(0,a.jsxs)("div",{className:"relative ",children:[(0,a.jsx)("input",{type:"text",name:"query",id:"query",className:"outline-transparent rounded-lg ring-1 bg-transparent pr-11 pl-3 py-2.5 sm:w-60 w-52 ",value:n,placeholder:"Username...",onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&s()}}),(0,a.jsx)("button",{className:"absolute top-[6px] right-[6px] bg-blue-500 hover:bg-blue-600 rounded-full p-1",onClick:s,children:(0,a.jsx)("svg",{viewBox:"0 0 512 512",fill:"currentColor",className:"size-6",children:(0,a.jsx)("path",{d:"M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"})})})]})})}function i(){return(0,a.jsx)(o.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(n,{})})}},7807:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var a=r(7437);let l=async()=>{try{let e=await fetch("/api/binaryList",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to fetch Binary List");let{status:t,userData:r,teamDetails:a}=await e.json();return{status:t,userData:r,teamDetails:a}}catch(e){throw e}};var o=r(6463),n=r(2265),i=r(8726);let s=()=>{let[e,t]=(0,n.useState)(null),r=(0,o.useSearchParams)().get("query"),s=(e,t)=>{if(!e)return null;if(e.username===t)return e;let r=s(e.left,t);return r||(r=s(e.right,t))};(0,n.useEffect)(()=>{(async()=>{try{let{status:e,userData:a,teamDetails:o}=await l();if(console.log(o),e){if(a&&o){let e=u(a,o);if(r){let a=s(e,r);a?t(a):t(e)}else t(e)}else i.ZP.error("Data is missing or empty.")}else i.ZP.error("Failed to load binary list data.")}catch(e){i.ZP.error("Error loading binary list.")}})()},[r]);let u=(e,t)=>{let r;let a={id:e.id,username:e.username,un_id:e.un_id,placement_id:e.placement_id,name:e.name,active:e.active,side:e.side,total_package_amount_left:e.total_package_amount_left,total_package_amount_right:e.total_package_amount_right,total_this_month_package_amount_left:e.total_this_month_package_amount_left,total_this_month_package_amount_right:e.total_this_month_package_amount_right,left:null,right:null},l=(e,t)=>{t.forEach(t=>{let r={id:t.id,username:t.username,un_id:t.un_id,placement_id:t.placement_id,name:t.name,active:t.active,side:t.side,total_package_amount_left:t.total_package_amount_left,total_package_amount_right:t.total_package_amount_right,total_this_month_package_amount_left:t.total_this_month_package_amount_left,total_this_month_package_amount_right:t.total_this_month_package_amount_right,left:null,right:null};"left"===t.side?(console.log("Left-side user:",r),e.left=r):"right"===t.side&&(e.right=r),t.details&&t.details.length>0&&l(r,t.details)})},o=(r=e.un_id,t.filter(e=>e.placement_id===r));return o.length>0&&l(a,o),a},d=e=>{e.isDummy||t(e)},f=e=>e.username,c=(e,t)=>{let r=[...e];for(;r.length<t;){let e="dummy-".concat(r.length+1);r.push({id:e,username:"N / A",active:null,side:null,left:null,right:null,isDummy:!0})}return r},b=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return null;let l=c(e.left?[e.left]:[],2),o=c(e.right?[e.right]:[],2);return t=e.isDummy?"black":"0"===e.active?"#de2134":"#2317cf",(0,a.jsxs)("li",{className:"inline-block  md:px-1 py-1 md:py-2 transition-all duration-500 ease-custom-bezier text-center relative before:absolute before:top-0 before:right-[49.5%] before:border-t before:border-gray-300 before:w-[60%] before:h-[5px] after:absolute after:top-0 after:right-[49.5%] after:border-t after:border-gray-300 after:w-[60%] after:h-[5px] after:left-1/2 after:border-l only:before:hidden only:after:hidden only:pt-0",children:[(0,a.jsxs)("a",{href:"#",className:"group inline-grid md:size-32 size-28 p-1.5 rounded-lg transition-all duration-500 ease-custom-bezier ".concat(e.isDummy?"cursor-not-allowed opacity-50":""),onClick:()=>d(e),children:[(0,a.jsxs)("svg",{viewBox:"0 0 512 512",fill:"currentColor",className:"size-16 mx-auto mt-2 mb-1 bg-blue-500 rounded-full p-1 shadow-shadow-bg",style:{backgroundColor:t},children:[(0,a.jsx)("path",{d:"M256,508C117.04,508,4,394.96,4,256S117.04,4,256,4s252,113.04,252,252S394.96,508,256,508z",fill:"#FFFFFF"}),(0,a.jsx)("path",{d:"M256,8c136.752,0,248,111.248,248,248S392.752,504,256,504S8,392.752,8,256S119.248,8,256,8 M256,0 C114.608,0,0,114.608,0,256s114.608,256,256,256s256-114.608,256-256S397.392,0,256,0L256,0z",fill:"#D6D6D6"}),(0,a.jsx)("ellipse",{cx:"256",cy:"175.648",rx:"61.712",ry:"60.48",fill:t}),(0,a.jsx)("path",{d:"M362.592,360.624c0-57.696-47.728-104.464-106.592-104.464s-106.592,46.768-106.592,104.464H362.592z",fill:t})]}),(0,a.jsx)("span",{className:"text-nowrap font-semibold text-lg",children:f(e)})]}),(l.length>0||o.length>0)&&r<3&&(0,a.jsxs)("ul",{className:"pt-2.5 relative duration-500 before:absolute before:top-0 before:left-1/2 before:border-l before:border-gray-300 before:w-0 before:h-[10px]",children:[(0,a.jsx)("li",{className:"inline-block px-0.5 md:px-1 py-1 md:pb-2 transition-all duration-500 ease-custom-bezier text-center relative before:absolute before:top-0 before:border-t before:border-gray-300 before:w-[60%] before:h-[5px] after:absolute after:top-0 after:right-[49.5%] after:border-t after:border-gray-300 after:w-[60%] after:h-[5px] after:left-1/2 after:border-l first:before:border-hidden first:before:border-0  last:after:border-hidden last:after:border-0  first:after:rounded-tl-md ",children:(0,a.jsx)("ul",{className:"pt-2.5 relative duration-500 before:absolute before:top-0 before:left-1/2 before:border-l before:border-gray-300 before:w-0 before:h-[10px]",children:l.length>0&&b(l[0],r+1)})}),(0,a.jsx)("li",{className:"inline-block px-0.5 md:px-1 py-1 md:pb-2 transition-all duration-500 ease-custom-bezier text-cnter relative before:absolute before:top-0 before:right-[49.5%] before:border-t before:border-gray-300 before:w-[60%] before:h-[5px] after:absolute after:top-0 after:right-[49.5%] after:border-t after:border-gray-300 after:w-[60%] after:h-[5px] after:left-1/2 after:border-l first:before:border-hidden first:before:border-0 last:after:border-hidden last:after:border-0  first:after:rounded-tl-md last:before:border-r last:before:rounded-tr-md ",children:(0,a.jsx)("ul",{className:"pt-2.5 relative duration-500 before:absolute before:top-0 before:left-1/2 before:border-l before:border-gray-300 before:w-0 before:h-[10px]",children:o.length>0&&b(o[0],r+1)})})]})]},e.id)};return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h1",{className:"sm:text-4xl text-3xl font-bold absolute top-3 sm:left-5 sm:translate-x-0 left-1/2 -translate-x-1/2 mt-2 gradient-text2 text-nowrap",children:"Binary Tree"}),(0,a.jsx)("div",{className:"tree text-center sm:mt-[100px] mt-[130px] mb-10 sm:mx-auto w-[620px]",children:(0,a.jsx)("ul",{className:"pt-2.5 relative duration-500 ",children:e?b(e):(0,a.jsx)("p",{children:"Loading..."})})})]})};function u(){return(0,a.jsx)(n.Suspense,{fallback:(0,a.jsx)("div",{children:"Loading..."}),children:(0,a.jsx)(s,{})})}},6463:function(e,t,r){"use strict";var a=r(1169);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[726,971,23,744],function(){return e(e.s=1742)}),_N_E=e.O()}]);